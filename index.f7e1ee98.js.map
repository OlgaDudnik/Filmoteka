{"mappings":"AAAO,MAAMA,EAAO,CAClBC,OAAQC,SAASC,cAAc,WAC/BC,iBAAkBF,SAASC,cAAc,SACzCE,oBAAqBH,SAASC,cAAc,YAC5CG,WAAYJ,SAASC,cAAc,gBACnCI,YAAa,GACbC,cAAe,ICLV,SAASC,EAAaC,EAAYC,GACvCX,EAAKM,WAAWM,mBACd,YACA,2DACoDD,MAAeD,kBCmCvE,SAASG,IACPb,EAAKO,YAAYO,UAAUC,IAAI,kBAC/Bf,EAAKQ,cAAcM,UAAUE,OAAO,kBAEpCC,QAAQC,IAAI,0CAGd,SAASC,IACPnB,EAAKQ,cAAcM,UAAUC,IAAI,kBACjCf,EAAKO,YAAYO,UAAUE,OAAO,kBAElCC,QAAQC,IAAI,gCA9CdlB,EAAKI,iBAAiBU,UAAUC,IAAI,sBAIpCf,EAAKI,iBAAiBgB,iBAAiB,SAKvC,WACEpB,EAAKC,OAAOa,UAAUE,OAAO,kBAC7BhB,EAAKI,iBAAiBU,UAAUC,IAAI,sBACpCf,EAAKK,oBAAoBS,UAAUE,OAAO,yBAP5ChB,EAAKK,oBAAoBe,iBAAiB,SAS1C,WACEpB,EAAKC,OAAOa,UAAUC,IAAI,kBAC1Bf,EAAKK,oBAAoBS,UAAUC,IAAI,sBACvCf,EAAKI,iBAAiBU,UAAUE,OAAO,sBAEvChB,EAAKM,WAAWe,UAAY,GAC5BZ,EAAa,UAAW,WACxBA,EAAa,QAAS,SACtBP,SACGC,cAAc,yBACdW,UAAUC,IAAI,yBAEjBf,EAAKO,YAAcL,SAASC,cAAc,yBAC1CH,EAAKQ,cAAgBN,SAASC,cAAc,2BAE5CH,EAAKO,YAAYa,iBAAiB,QAASP,GAC3Cb,EAAKQ,cAAcY,iBAAiB,QAASD,MCnC/C,MAEMG,EAAWpB,SAASC,cAAc,aAClCoB,EAAarB,SAASC,cAAc,wBACpCqB,EAAatB,SAASC,cAAc,eAEpCsB,EAAavB,SAASC,cAAc,YACpCuB,EAAWxB,SAASC,cAAc,UAkBxC,SAASwB,IACPL,EAASR,UAAUE,OAAO,SAC1Bd,SAAS0B,KAAKd,UAAUE,OAAO,YAC/Bd,SAAS2B,oBAAoB,UAAWC,GACxC5B,SAAS2B,oBAAoB,QAASE,GACtCR,EAAWM,oBAAoB,QAASF,GAG1C,SAASG,EAAcE,GACN,WAAXA,EAAEC,MACJN,IAIJ,SAASI,EAAwBC,GACL,aAAtBA,EAAEE,OAAOC,UACXR,IA/BJF,EAAWL,iBAAiB,SAqC5B,WACE,MAAMgB,EAAc,GACdC,EAAeC,aAAaC,QAjDf,2BAmDfF,GACJD,EAAYI,QAAQC,KAAKC,MAAML,IAE/B,GAAIA,aAAA,EAAAA,EAAcM,SATT,GAWP,OAEFP,EAAYI,KAbH,GAcT,MAAMI,EAAUH,KAAKI,UAAUC,OAAOC,OAAOX,IAC9C,OAAOE,aAAaU,QA5DA,0BA4DsBJ,MAjD3ClB,EAASN,iBAAiB,SAoD1B,WAEE,MAAM6B,EAAY,GACZZ,EAAeC,aAAaC,QAjEf,kBAmEfF,GACJY,EAAUT,QAAQC,KAAKC,MAAML,IAE7B,GAAIA,aAAA,EAAAA,EAAcM,SA1BT,GA2BP,OAEFM,EAAUT,KA7BD,GA8BT,MAAMI,EAAUH,KAAKI,UAAUC,OAAOC,OAAOE,IAC9C,OAAOX,aAAaU,QA3EA,iBA2EsBJ,MA/D3CpB,EAAWJ,iBAAiB,SAG5B,SAAqBY,GACnBf,QAAQC,IAAIc,EAAEE,OAAOgB,KACrBhD,SAAS0B,KAAKd,UAAUC,IAAI,YAC5BO,EAASR,UAAUC,IAAI,SACvBb,SAASkB,iBAAiB,UAAWU,GACrCR,EAASF,iBAAiB,QAASW,GACnCR,EAAWH,iBAAiB,QAASO","sources":["src/js/refs.js","src/js/button.js","src/js/header.js","src/js/modal.js"],"sourcesContent":["export const refs = {\n  header: document.querySelector('.header'),\n  buttonHeaderHome: document.querySelector('#home'),\n  buttonHeaderLibrary: document.querySelector('#library'),\n  headerForm: document.querySelector('.header-form'),\n  buttonQueue: '',\n  buttonWatched: '',\n};\n","import { refs } from './refs';\nexport function markupButton(buttonText, dataAction) {\n  refs.headerForm.insertAdjacentHTML(\n    'beforeend',\n    `\n    <button type=\"button\" class=\"button\" data-action=\"${dataAction}\">${buttonText}</button>\n  `\n  );\n}\n","import { refs } from './refs';\nimport { markupButton } from './button';\n\n//-----------------------------------------------------------\n\nrefs.buttonHeaderHome.classList.add('nav-btn--underline');\n\n//-----------------------------------------------------------\n\nrefs.buttonHeaderHome.addEventListener('click', onOpenHomePage);\nrefs.buttonHeaderLibrary.addEventListener('click', onOpenLibraryPage);\n\n//-----------------------------------------------------------\n\nfunction onOpenHomePage() {\n  refs.header.classList.remove('header-library');\n  refs.buttonHeaderHome.classList.add('nav-btn--underline');\n  refs.buttonHeaderLibrary.classList.remove('nav-btn--underline');\n}\nfunction onOpenLibraryPage() {\n  refs.header.classList.add('header-library');\n  refs.buttonHeaderLibrary.classList.add('nav-btn--underline');\n  refs.buttonHeaderHome.classList.remove('nav-btn--underline');\n\n  refs.headerForm.innerHTML = '';\n  markupButton('Watched', 'watched');\n  markupButton('queue', 'queue');\n  document\n    .querySelector('[data-action=\"queue\"]')\n    .classList.add('button--rightLocation');\n\n  refs.buttonQueue = document.querySelector('[data-action=\"queue\"]');\n  refs.buttonWatched = document.querySelector('[data-action=\"watched\"]');\n\n  refs.buttonQueue.addEventListener('click', onOpenQueueFilms);\n  refs.buttonWatched.addEventListener('click', onOpenWatchedFilms);\n}\n\n//-----------------------------------------------------------\n\nfunction onOpenQueueFilms() {\n  refs.buttonQueue.classList.add('button--active');\n  refs.buttonWatched.classList.remove('button--active');\n\n  console.log('Рендер фильмов, поставленных в очередь');\n}\n\nfunction onOpenWatchedFilms() {\n  refs.buttonWatched.classList.add('button--active');\n  refs.buttonQueue.classList.remove('button--active');\n\n  console.log('Рендер просмотренных фильмов');\n}\n","const STORAGE_KEY1 = 'state-of-watched-movies';\nconst STORAGE_KEY2 = 'state-of-queue';\nconst backdrop = document.querySelector('.backdrop');\nconst onCloseBtn = document.querySelector('.modal__button-close');\nconst onModalBtn = document.querySelector('.onModalBtn');\n\nconst watchedBtn = document.querySelector('#watched');\nconst queueBtn = document.querySelector('#queue');\n\n\nwatchedBtn.addEventListener('click', onAddToWatched);\nqueueBtn.addEventListener('click', onAddToQueue);\n\nonModalBtn.addEventListener('click', onOpenModal);\n\n\nfunction onOpenModal(e) {\n  console.log(e.target.src);\n  document.body.classList.add('overflow');\n  backdrop.classList.add('mount');\n  document.addEventListener('keydown', modalCloseEsc);\n  backdrop.addEventListener('click', modalCloseClickBackdrop);\n  onCloseBtn.addEventListener('click', onCloseModal);\n}\n\nfunction onCloseModal() {\n  backdrop.classList.remove('mount');\n  document.body.classList.remove('overflow');\n  document.removeEventListener('keydown', modalCloseEsc);\n  document.removeEventListener('click', modalCloseClickBackdrop);\n  onCloseBtn.removeEventListener('click', onCloseModal);\n}\n\nfunction modalCloseEsc(e) {\n  if (e.code === 'Escape') {\n    onCloseModal();\n  }\n}\n\nfunction modalCloseClickBackdrop(e) {\n  if (e.target.nodeName === 'BACKDROP') {\n    onCloseModal();\n  }\n}\n\nconst id = 1;\n\nfunction onAddToWatched() {\n  const watchedList = [];\n  const storageState = localStorage.getItem(STORAGE_KEY1);\n  \n  if (storageState) {\n  watchedList.push(...JSON.parse(storageState));\n  }\n  if (storageState?.includes(id)) {\n    \n    return;\n  }\n  watchedList.push(id);\n  const records = JSON.stringify(Object.values(watchedList));\n return localStorage.setItem(STORAGE_KEY1, records);\n}\n\nfunction onAddToQueue() {\n  \n  const queueList = [];\n  const storageState = localStorage.getItem(STORAGE_KEY2);\n  \n  if (storageState) {\n  queueList.push(...JSON.parse(storageState));\n  }\n  if (storageState?.includes(id)) {\n    return;\n  }\n  queueList.push(id);\n  const records = JSON.stringify(Object.values(queueList));\n return localStorage.setItem(STORAGE_KEY2, records);\n}"],"names":["$ee27a4d7c64fc8c4$export$21666b427502ea6d","header","document","querySelector","buttonHeaderHome","buttonHeaderLibrary","headerForm","buttonQueue","buttonWatched","$1ca8740de949dc23$export$f542fddb16a225a5","buttonText","dataAction","insertAdjacentHTML","$8aad853c076397e7$var$onOpenQueueFilms","classList","add","remove","console","log","$8aad853c076397e7$var$onOpenWatchedFilms","addEventListener","innerHTML","$8a7e756c566dd1ea$var$backdrop","$8a7e756c566dd1ea$var$onCloseBtn","$8a7e756c566dd1ea$var$onModalBtn","$8a7e756c566dd1ea$var$watchedBtn","$8a7e756c566dd1ea$var$queueBtn","$8a7e756c566dd1ea$var$onCloseModal","body","removeEventListener","$8a7e756c566dd1ea$var$modalCloseEsc","$8a7e756c566dd1ea$var$modalCloseClickBackdrop","e","code","target","nodeName","watchedList","storageState","localStorage","getItem","push","JSON","parse","includes","records","stringify","Object","values","setItem","queueList","src"],"version":3,"file":"index.f7e1ee98.js.map"}